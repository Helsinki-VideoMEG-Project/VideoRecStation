<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Usage" href="usage.html" /><link rel="prev" title="Video Recording Station documentation" href="index.html" />

    <!-- Generated with Sphinx 8.2.3 and Furo 2024.08.06 -->
        <title>Installation Instructions - Video Recording Station documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=302659d7" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">Video Recording Station  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  
  <span class="sidebar-brand-text">Video Recording Station  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Installation Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="config-description.html">Configuration File Description</a></li>
<li class="toctree-l1"><a class="reference internal" href="file-format-description.html">File Format Description</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to the Project</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="_sources/installation.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="installation-instructions">
<h1>Installation Instructions<a class="headerlink" href="#installation-instructions" title="Link to this heading">¶</a></h1>
<section id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Link to this heading">¶</a></h2>
<p>VideoRecStation runs on Ubuntu 24.04 LTS (Jammy Jellyfish) on amd64 architecture. It might work on other versions of Ubuntu or other Linux distributions, but this has not been tested.</p>
</section>
<section id="install-3-rd-party-components">
<h2>Install 3-rd party components<a class="headerlink" href="#install-3-rd-party-components" title="Link to this heading">¶</a></h2>
<p>Before you can use VideoRecStation, you need to install VimbaX, GPUJPEG and ALSA Scarlett Control Panel (alsa-scarlett-gui). The latter is, strictly speaking, optional, but it provides a convenient GUI for controlling the audio settings of your Scarlett interface.</p>
<section id="install-vimbax">
<h3>Install VimbaX<a class="headerlink" href="#install-vimbax" title="Link to this heading">¶</a></h3>
<p>VimbaX is a software package for controlling USB cameras made by Allied Vision Technologies. You can download it from the <a class="reference external" href="https://www.alliedvision.com/en/products/software/vimba-x-sdk/">Allied Vision website</a>. Assume you have downloaded it to <code class="docutils literal notranslate"><span class="pre">~/Downloads/VimbaX_Setup-2025-3-Linux64.tar.gz</span></code>, and want to install it to <code class="docutils literal notranslate"><span class="pre">/opt/VimbaX_2025-3</span></code>. You can do this by running the following commands:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>mkdir<span class="w"> </span>/opt/VimbaX_2025-3
sudo<span class="w"> </span>tar<span class="w"> </span>-xvzf<span class="w"> </span>~/Downloads/VimbaX_Setup-2025-3-Linux64.tar.gz<span class="w"> </span>-C<span class="w"> </span>/opt/VimbaX_2025-3<span class="w"> </span>--strip-components<span class="o">=</span><span class="m">1</span>
</pre></div>
</div>
<p>Remove the camera simulators that come with VimbaX, so that they don’t clutter the list of available cameras:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>rm<span class="w"> </span>-f<span class="w"> </span>/opt/VimbaX_2025-3/cti/*Camera_Simulator*
</pre></div>
</div>
<p>Now you need to install VimbaX transport layers. Run the following commands:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>/opt/VimbaX_2025-3/cti
sudo<span class="w"> </span>./Install_GenTL_Path.sh
</pre></div>
</div>
<p>and reboot your system. You can now test the VimbaX by connecting an Alvium USB camera to your computer and running:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>/opt/VimbaX_2025-3/bin/VimbaXViewer
</pre></div>
</div>
<p>The Vimba X Viewer window should appear and you should see the camera in the list of detected cameras.</p>
<p>Finally, add the VimbaX library path to your system’s library path. You can do this by creating a new file in the <code class="docutils literal notranslate"><span class="pre">/etc/ld.so.conf.d/</span></code> directory:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;/opt/VimbaX_2025-3/api/lib&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sudo<span class="w"> </span>tee<span class="w"> </span>/etc/ld.so.conf.d/vimbax.conf
</pre></div>
</div>
<p>Then, update the linker cache:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>ldconfig
</pre></div>
</div>
</section>
<section id="install-gpujpeg-library">
<h3>Install GPUJPEG library<a class="headerlink" href="#install-gpujpeg-library" title="Link to this heading">¶</a></h3>
<p><a class="reference external" href="https://github.com/CESNET/GPUJPEG">GPUJPEG</a> is a library for JPEG encoding and decoding using NVIDIA (and, possibly, other) GPUs. To install it, download the latest release from the <a class="reference external" href="https://github.com/CESNET/GPUJPEG/releases">GPUJPEG releases page</a>. Assume you have downloaded the file <code class="docutils literal notranslate"><span class="pre">GPUJPEG.CI.Linux.build.all.CUDA.architetures.zip</span></code> to <code class="docutils literal notranslate"><span class="pre">~/Downloads</span></code>. Install it by running the following commands:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>unzip<span class="w"> </span>~/Downloads/GPUJPEG.CI.Linux.build.all.CUDA.architetures.zip<span class="w"> </span>-d<span class="w"> </span>/opt/GPUJPEG
<span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;/opt/GPUJPEG/lib&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sudo<span class="w"> </span>tee<span class="w"> </span>/etc/ld.so.conf.d/gpujpeg.conf
sudo<span class="w"> </span>ldconfig
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>Make sure that you have the NVIDIA drivers and CUDA toolkit installed on your system.</p></li>
<li><p>The above instructions were tested with GPUJPEG version 0.27.8 in Dec 2025.</p></li>
</ol>
</div>
</section>
<section id="install-alsa-scarlett-control-panel">
<h3>Install ALSA Scarlett Control Panel<a class="headerlink" href="#install-alsa-scarlett-control-panel" title="Link to this heading">¶</a></h3>
<p>The ALSA Scarlett Control Panel (alsa-scarlett-gui) is a graphical user interface for controlling the audio settings of your Scarlett audio interface box. You can install it by following the <a class="reference external" href="https://github.com/geoffreybennett/alsa-scarlett-gui/blob/master/docs/INSTALL.md">instructions</a> from the project’s <a class="reference external" href="https://github.com/geoffreybennett/alsa-scarlett-gui">GitHub page</a>. In a nutshell:</p>
<p>Install the packages needed to build the software:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt<span class="w"> </span>-y<span class="w"> </span>install<span class="w"> </span>git<span class="w"> </span>make<span class="w"> </span>gcc<span class="w"> </span>libgtk-4-dev<span class="w"> </span>libasound2-dev<span class="w"> </span>libssl-dev
</pre></div>
</div>
<p>Clone the repository:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/geoffreybennett/alsa-scarlett-gui.git
</pre></div>
</div>
<p>Build and install the software:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>alsa-scarlett-gui/src
make<span class="w"> </span>-j<span class="k">$(</span>nproc<span class="k">)</span>
sudo<span class="w"> </span>make<span class="w"> </span>install
</pre></div>
</div>
<p>You now should be able to run ALSA Scarlett Control Panel from the Ubuntu applications menu.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The installation instructions for VimbaX and ALSA Scarlett Control Panel were tested in Aug 2025. As these are provided by third parties, there are no guarantees that the instructions will work in the future (or that these components will be available at all for that matter). If you have problems with installing VimbaX and/or ALSA Scarlett Control Panel, try checking their respective web pages.</p>
</div>
</section>
</section>
<section id="configure-usb-related-kernel-parameters">
<h2>Configure USB-related kernel parameters<a class="headerlink" href="#configure-usb-related-kernel-parameters" title="Link to this heading">¶</a></h2>
<dl class="simple">
<dt>To avoid potential problems when using VideoRecStation you need to correctly set a few Linux kernel parameters related to USB:</dt><dd><ol class="arabic simple">
<li><p>Full Speed USB (USBFS) buffer size.</p></li>
<li><p>USB autosuspend settings.</p></li>
</ol>
</dd>
</dl>
<p>By default, the USBFS buffer size is set to 16MB, which might not be enough, especially when using multiple cameras. You can check the current buffer size by running:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cat<span class="w"> </span>/sys/module/usbcore/parameters/usbfs_memory_mb
</pre></div>
</div>
<p>Similarly, USB autosuspend is enabled by default, which might cause problems with VideoRecStation setup. You can check the current autosuspend setting by running:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cat<span class="w"> </span>/sys/module/usbcore/parameters/autosuspend
</pre></div>
</div>
<p>If the output of the above command is not <code class="docutils literal notranslate"><span class="pre">-1</span></code>, USB autosuspend is enabled.</p>
<p>To increase the buffer size permanently to 1000MB (which is probably sufficient for most use cases) and enable USB autosuspend, add the kernel parameter <code class="docutils literal notranslate"><span class="pre">usbcore.usbfs_memory_mb=1000</span> <span class="pre">usbcore.autosuspend=-1</span></code> to the bootloader configuration. To do this you have to edit the GRUB configuration file <code class="docutils literal notranslate"><span class="pre">/etc/default/grub</span></code>. Find the line that looks like this:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">GRUB_CMDLINE_LINUX_DEFAULT</span><span class="o">=</span><span class="s2">&quot;quiet splash&quot;</span>
</pre></div>
</div>
<p>and add <code class="docutils literal notranslate"><span class="pre">usbcore.usbfs_memory_mb=1000</span></code> to it, so that it looks like this:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">GRUB_CMDLINE_LINUX_DEFAULT</span><span class="o">=</span><span class="s2">&quot;quiet splash usbcore.usbfs_memory_mb=1000 usbcore.autosuspend=-1&quot;</span>
</pre></div>
</div>
<p>After that, update the GRUB configuration by running:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>update-grub
</pre></div>
</div>
<p>And reboot your system. After rebooting, running</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cat<span class="w"> </span>/sys/module/usbcore/parameters/usbfs_memory_mb
</pre></div>
</div>
<p>should show 1000, and running</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cat<span class="w"> </span>/sys/module/usbcore/parameters/autosuspend
</pre></div>
</div>
<p>should show -1.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can temporarily (until next reboot) change the USBFS buffer size by running and autosuspend setting by running the following commands:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>sh<span class="w"> </span>-c<span class="w"> </span><span class="s1">&#39;echo 1000 &gt; /sys/module/usbcore/parameters/usbfs_memory_mb&#39;</span>
sudo<span class="w"> </span>sh<span class="w"> </span>-c<span class="w"> </span><span class="s1">&#39;echo -1 &gt; /sys/module/usbcore/parameters/autosuspend&#39;</span>
</pre></div>
</div>
</div>
</section>
<section id="set-up-exclusive-access-by-videorecstation-to-the-audio-device">
<h2>Set up exclusive access by VideoRecStation to the audio device<a class="headerlink" href="#set-up-exclusive-access-by-videorecstation-to-the-audio-device" title="Link to this heading">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Currently the VideoRecStation is designed to work with a Focusrite Scarlett 18i20 [3rd Gen] audio interface. You might be able to make it work with somehing else by hacking the config file, but to add proper support for other audio interfaces you need to modify the source code (and obviously recompile it).</p>
</div>
<p>In Ubuntu 24.04 LTS, the audio devices are managed by a system service called PipeWire. VideoRecStation needs exclusive access to the audio device, so to avoid conflicts with PipeWire, you need to configure PipeWire to ignore the Scarlett audio interface. To do this, first find the id of your Scarlett box. Make sure that the Scarlett box is connected to your computer and turned on, then run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pactl<span class="w"> </span>list<span class="w"> </span>short<span class="w"> </span>cards
</pre></div>
</div>
<p>Look for a line that contains the id of your Scarlett box. The id should look something like <code class="docutils literal notranslate"><span class="pre">alsa_card.usb-Focusrite_Scarlett_18i20_USB_12345678-00</span></code>. Write down the id.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can also use <code class="docutils literal notranslate"><span class="pre">wpctl</span> <span class="pre">status</span></code> and <code class="docutils literal notranslate"><span class="pre">wpctl</span> <span class="pre">inspect</span> <span class="pre">&lt;ID&gt;</span></code> to get the same id. Look for the line like <code class="docutils literal notranslate"><span class="pre">device.name</span> <span class="pre">=</span> <span class="pre">&quot;alsa_card.usb-Focusrite_Scarlett_18i20_USB_12345678-00&quot;</span></code>.</p>
</div>
<p>Next we need to create a WirePlumber rule to disable the device. Create a new file <code class="docutils literal notranslate"><span class="pre">~/.config/wireplumber/main.lua.d/99-disable-scarlett.lua</span></code> with the following content (replace <code class="docutils literal notranslate"><span class="pre">alsa_card.usb-Focusrite_Scarlett_18i20_USB_12345678-00</span></code> with the id you found above):</p>
<div class="highlight-lua notranslate"><div class="highlight"><pre><span></span><span class="nv">rule</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="nv">matches</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">         </span><span class="p">{</span><span class="w"> </span><span class="s2">&quot;device.name&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;equals&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;alsa_card.usb-Focusrite_Scarlett_18i20_USB_12345678-00&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">   </span><span class="p">},</span>
<span class="w">   </span><span class="nv">apply_properties</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="p">[</span><span class="s2">&quot;device.disabled&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">   </span><span class="p">},</span>
<span class="p">}</span>

<span class="nb">table.insert</span><span class="p">(</span><span class="nv">alsa_monitor</span><span class="p">.</span><span class="py">rules</span><span class="p">,</span><span class="w"> </span><span class="nv">rule</span><span class="p">)</span>
</pre></div>
</div>
<p>Then restart WirePlumber by running:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>systemctl<span class="w"> </span>--user<span class="w"> </span>restart<span class="w"> </span>wireplumber
</pre></div>
</div>
<p>You can check that the PipeWire is no longer managing the Scarlett box by running:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pactl<span class="w"> </span>list<span class="w"> </span>short<span class="w"> </span>cards
</pre></div>
</div>
<p>The Scarlett box should no longer be listed.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The above instructions work for WirePlumber versions 0.4.x (which was the default in Ubuntu 24.04 LTS as of Aug 2025) Between versions 0.4.x and 0.5.x the format of the configuration files for WirePlumber changed. If you are using WirePlumber 0.5.x or later, instead of <code class="docutils literal notranslate"><span class="pre">~/.config/wireplumber/main.lua.d/99-disable-scarlett.lua</span></code> you need to create the file <code class="docutils literal notranslate"><span class="pre">~/.config/wireplumber/wireplumber.conf.d/99-disable-scarlett.conf</span></code> with the following content (again, replace <code class="docutils literal notranslate"><span class="pre">alsa_card.usb-Focusrite_Scarlett_18i20_USB_12345678-00</span></code> with the id you found above):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">monitor</span><span class="o">.</span><span class="n">alsa</span><span class="o">.</span><span class="n">rules</span> <span class="o">=</span> <span class="p">[</span>
   <span class="p">{</span>
      <span class="n">matches</span> <span class="o">=</span> <span class="p">[</span>
         <span class="p">{</span> <span class="n">device</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;alsa_card.usb-Focusrite_Scarlett_18i20_USB_12345678-00&quot;</span> <span class="p">}</span>
      <span class="p">]</span>
      <span class="n">actions</span> <span class="o">=</span> <span class="p">{</span>
         <span class="n">update</span><span class="o">-</span><span class="n">props</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">device</span><span class="o">.</span><span class="n">disabled</span> <span class="o">=</span> <span class="n">true</span>
         <span class="p">}</span>
      <span class="p">}</span>
   <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>You can check the version of WirePlumber by running:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>wireplumber<span class="w"> </span>--version
</pre></div>
</div>
</div>
</section>
<section id="install-the-videorecstation-software">
<h2>Install the VideoRecStation software<a class="headerlink" href="#install-the-videorecstation-software" title="Link to this heading">¶</a></h2>
<section id="build-and-install-videorecstation-binary">
<h3>Build and install VideoRecStation binary<a class="headerlink" href="#build-and-install-videorecstation-binary" title="Link to this heading">¶</a></h3>
<p>Install the packages needed to build VideoRecStation:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt<span class="w"> </span>-y<span class="w"> </span>install<span class="w"> </span>qt6-base-dev<span class="w"> </span>designer-qt6<span class="w"> </span>libasound2-dev<span class="w"> </span>g++
</pre></div>
</div>
<p>Clone the repository:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/Helsinki-VideoMEG-Project/VideoRecStation.git
</pre></div>
</div>
<p>Modify the <code class="docutils literal notranslate"><span class="pre">INCLUDEPATH</span></code> and <code class="docutils literal notranslate"><span class="pre">LIBS</span></code> sections of the file <code class="docutils literal notranslate"><span class="pre">src/VideoRecStation.pro</span></code> to reflect the location where you have installed VimbaX (e.g., <code class="docutils literal notranslate"><span class="pre">/opt/VimbaX_2025-3/api/include</span></code> and <code class="docutils literal notranslate"><span class="pre">/opt/VimbaX_2025-3/api/lib</span></code> if you installed VimbaX in <code class="docutils literal notranslate"><span class="pre">/opt/VimbaX_2025-3</span></code>) and GPUJPEG (e.g., <code class="docutils literal notranslate"><span class="pre">/opt/GPUJPEG/include</span></code> and <code class="docutils literal notranslate"><span class="pre">/opt/GPUJPEG/lib</span></code> if you installed GPUJPEG in <code class="docutils literal notranslate"><span class="pre">/opt/GPUJPEG</span></code>).</p>
<p>Build and install the software:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>VideoRecStation
qmake6<span class="w"> </span>src/VideoRecStation.pro
make<span class="w"> </span>-f<span class="w"> </span>Makefile.Release
sudo<span class="w"> </span>cp<span class="w"> </span>VideoRecStation<span class="w"> </span>/usr/local/bin/
</pre></div>
</div>
<p>You now should be able to run VideoRecStation from the command line by typing:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>VideoRecStation
</pre></div>
</div>
</section>
<section id="configure-videorecstation">
<h3>Configure VideoRecStation<a class="headerlink" href="#configure-videorecstation" title="Link to this heading">¶</a></h3>
<p>When you run VideoRecStation for the first time, it will create a configuration file <code class="docutils literal notranslate"><span class="pre">~/.config/Helsinki</span> <span class="pre">VideoMEG</span> <span class="pre">Project/VideoRecStation.conf</span></code> with default settings. You should edit this file to set the parameters according to your setup. In particular, you should modify the sound card configuration and the storage path.</p>
<section id="configure-audio-settings">
<span id="configure-audio-settings-label"></span><h4>Configure audio settings<a class="headerlink" href="#configure-audio-settings" title="Link to this heading">¶</a></h4>
<p>As mentioned above, we assume you want to use a Focusrite Scarlett 18i20 [3rd Gen] audio interface with the VideoRecStation. For that we need to find the ALSA device name through which Linux can access the Scarlett box. First, connect the Scarlett interface to your computer and turn it on. Next run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>arecord<span class="w"> </span>-L<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-A1<span class="w"> </span><span class="s2">&quot;^hw:&quot;</span>
</pre></div>
</div>
<p>This should provide an output that looks something like this:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>hw:CARD<span class="o">=</span>sofhdadsp,DEV<span class="o">=</span><span class="m">0</span>
<span class="w">    </span>sof-hda-dsp,
--
hw:CARD<span class="o">=</span>sofhdadsp,DEV<span class="o">=</span><span class="m">6</span>
<span class="w">    </span>sof-hda-dsp,
--
hw:CARD<span class="o">=</span>sofhdadsp,DEV<span class="o">=</span><span class="m">7</span>
<span class="w">    </span>sof-hda-dsp,
--
hw:CARD<span class="o">=</span>USB,DEV<span class="o">=</span><span class="m">0</span>
<span class="w">    </span>Scarlett<span class="w"> </span>18i20<span class="w"> </span>USB,<span class="w"> </span>USB<span class="w"> </span>Audio
</pre></div>
</div>
<p>Note the line <code class="docutils literal notranslate"><span class="pre">Scarlett</span> <span class="pre">18i20</span> <span class="pre">USB,</span> <span class="pre">USB</span> <span class="pre">Audio</span></code>. The line above it reads <code class="docutils literal notranslate"><span class="pre">hw:CARD=USB,DEV=0</span></code>. In this case the ALSA device name that we are looking for is <code class="docutils literal notranslate"><span class="pre">hw:USB,0</span></code> (note that it might be something different on your system).</p>
<p>Assuming that the device name is <code class="docutils literal notranslate"><span class="pre">hw:USB,0</span></code>, modify the <code class="docutils literal notranslate"><span class="pre">[audio]</span></code> section of the file <code class="docutils literal notranslate"><span class="pre">~/.config/Helsinki</span> <span class="pre">VideoMEG</span> <span class="pre">Project/VideoRecStation.conf</span></code> as follows:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[audio]</span>
<span class="na">frames_per_period</span><span class="o">=</span><span class="s">940</span>
<span class="na">input_audio_device</span><span class="o">=</span><span class="s">&quot;hw:USB,0&quot;</span>
<span class="na">num_periods</span><span class="o">=</span><span class="s">10</span>
<span class="na">output_audio_device</span><span class="o">=</span><span class="s">&quot;hw:USB,0&quot;</span>
<span class="na">sampling_rate</span><span class="o">=</span><span class="s">44100</span>
<span class="na">speaker_buffer_size</span><span class="o">=</span><span class="s">4</span>
<span class="na">use_speaker_feedback</span><span class="o">=</span><span class="s">true</span>
</pre></div>
</div>
</section>
<section id="configure-data-storage-path">
<h4>Configure data storage path<a class="headerlink" href="#configure-data-storage-path" title="Link to this heading">¶</a></h4>
<p>Create a folder where you want to store the recorded video and audio data and make sure that the user running VideoRecStation has write permissions to it. Then modify the <code class="docutils literal notranslate"><span class="pre">data_storage_path</span></code> parameter in the <code class="docutils literal notranslate"><span class="pre">[misc]</span></code> section of the file <code class="docutils literal notranslate"><span class="pre">~/.config/Helsinki</span> <span class="pre">VideoMEG</span> <span class="pre">Project/VideoRecStation.conf</span></code> to poit to your folder. For example, if you want to store the data in <code class="docutils literal notranslate"><span class="pre">/data/videomeg</span></code>, make sure that the configuration file contains the following:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[misc]</span>
<span class="na">data_storage_path</span><span class="o">=</span><span class="s">/data/videomeg</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Make sure that VideoRecStation is not running when you are editing the configuration file.</p>
</div>
</section>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="usage.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Usage</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="index.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Home</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2025, Andrey Zhdanov
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Installation Instructions</a><ul>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li><a class="reference internal" href="#install-3-rd-party-components">Install 3-rd party components</a><ul>
<li><a class="reference internal" href="#install-vimbax">Install VimbaX</a></li>
<li><a class="reference internal" href="#install-gpujpeg-library">Install GPUJPEG library</a></li>
<li><a class="reference internal" href="#install-alsa-scarlett-control-panel">Install ALSA Scarlett Control Panel</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configure-usb-related-kernel-parameters">Configure USB-related kernel parameters</a></li>
<li><a class="reference internal" href="#set-up-exclusive-access-by-videorecstation-to-the-audio-device">Set up exclusive access by VideoRecStation to the audio device</a></li>
<li><a class="reference internal" href="#install-the-videorecstation-software">Install the VideoRecStation software</a><ul>
<li><a class="reference internal" href="#build-and-install-videorecstation-binary">Build and install VideoRecStation binary</a></li>
<li><a class="reference internal" href="#configure-videorecstation">Configure VideoRecStation</a><ul>
<li><a class="reference internal" href="#configure-audio-settings">Configure audio settings</a></li>
<li><a class="reference internal" href="#configure-data-storage-path">Configure data storage path</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=5fa4622c"></script>
    </body>
</html>